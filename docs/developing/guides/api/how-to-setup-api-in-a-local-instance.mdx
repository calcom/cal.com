---
title: "How to set up API v2 in a local instance"
---

This guide walks you through setting up the Cal.com API v2 locally for development and testing. API v2 is built with NestJS and provides a modern, type-safe API for Cal.com.

<Note>
API v1 is deprecated. New development should use API v2. See the [API v2 introduction](/api-reference/v2/introduction) for more information.
</Note>

## Prerequisites

- Node.js and Yarn installed
- PostgreSQL database running
- Redis running (or use Docker)
- Cal.com repository cloned and set up

<Steps>
    <Step title="Clone and set up the cal.com repository">
        Clone the cal.com repository and complete the initial setup by following the instructions in [Local development](/developing/local-development).
    </Step>
    <Step title="Generate Prisma client">
        Generate the Prisma client to ensure database types are available:

        ```bash
        yarn prisma generate
        ```
    </Step>
    <Step title="Configure environment variables">
        Copy the example environment file and configure it:

        ```bash
        cp apps/api/v2/.env.example apps/api/v2/.env
        ```

        Update the `.env` file with your configuration values. Make sure to set your database connection string and other required variables.
    </Step>
    <Step title="Add license key to database">
        Add a license key entry to the `Deployment` table in your database. You can use a test license key for local development:

        ```sql
        INSERT INTO "Deployment" (id, logo, theme, "licenseKey", "agreedLicenseAt")
        VALUES (1, null, null, '00000000-0000-0000-0000-000000000000', '2023-05-15 21:39:47.611');
        ```

        Then add the same license key to your root `.env` file:

        ```bash
        CALCOM_LICENSE_KEY=00000000-0000-0000-0000-000000000000
        ```
    </Step>
    <Step title="Start the API v2 server">
        Start the API v2 development server. You have two options:

        **With Docker (recommended):**
        ```bash
        yarn workspace @calcom/api-v2 dev
        ```

        **Without Docker:**
        ```bash
        yarn workspace @calcom/api-v2 dev:no-docker
        ```
    </Step>
    <Step title="Watch for dependency changes (optional)">
        If you're making changes to platform packages, run this in a separate terminal to rebuild dependencies automatically:

        ```bash
        yarn workspace @calcom/api-v2 dev:build:watch
        ```

        This watches and rebuilds: `platform-libraries`, `platform-constants`, `platform-enums`, `platform-utils`, and `platform-types`.
    </Step>
</Steps>

## Running tests

API v2 includes both unit tests and end-to-end tests:

```bash
# Unit tests
yarn workspace @calcom/api-v2 test

# E2E tests
yarn workspace @calcom/api-v2 test:e2e

# E2E tests in watch mode
yarn workspace @calcom/api-v2 test:e2e:watch
```

## Additional resources

- [API v2 introduction](/api-reference/v2/introduction)
- [API v1 to v2 differences](/api-reference/v2/v1-v2-differences)
