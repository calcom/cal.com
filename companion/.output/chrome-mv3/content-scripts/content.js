var content=(function(){"use strict";var L=Object.defineProperty;var M=(c,d,p)=>d in c?L(c,d,{enumerable:!0,configurable:!0,writable:!0,value:p}):c[d]=p;var u=(c,d,p)=>M(c,typeof d!="symbol"?d+"":d,p);var w,E;const c={matches:["<all_urls>"],main(){if(document.getElementById("cal-companion-sidebar"))return;let e=!1,n=!0;const t=document.createElement("div");t.id="cal-companion-sidebar",t.style.position="fixed",t.style.top="0",t.style.right="0",t.style.width="400px",t.style.height="100vh",t.style.zIndex="2147483647",t.style.backgroundColor="white",t.style.border="1px solid #ccc",t.style.borderTop="none",t.style.borderBottom="none",t.style.boxShadow="-2px 0 10px rgba(0,0,0,0.1)",t.style.transition="transform 0.3s ease-in-out",t.style.transform="translateX(100%)",t.style.display="none";const o=document.createElement("iframe");o.src="http://localhost:8081",o.style.width="100%",o.style.height="100%",o.style.border="none",o.style.borderRadius="0",t.appendChild(o);const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.style.display="none",a.innerHTML=`
        <filter id="displacementFilter">
            <feTurbulence type="turbulence" 
                baseFrequency="0.01" 
                numOctaves="2" 
                result="turbulence" />
    
            <feDisplacementMap in="SourceGraphic"
                in2="turbulence"    
                            scale="200" xChannelSelector="R" yChannelSelector="G" />
        </filter>
    `,document.body.appendChild(a);const i=document.createElement("div");i.id="cal-companion-buttons",i.style.position="fixed",i.style.top="20px",i.style.right="420px",i.style.display="flex",i.style.flexDirection="column",i.style.gap="8px",i.style.zIndex="2147483648",i.style.transition="right 0.3s ease-in-out",i.style.display="none";const s=document.createElement("button");s.innerHTML="◀",s.style.width="40px",s.style.height="40px",s.style.borderRadius="50%",s.style.border="none",s.style.backgroundColor="rgba(0, 0, 0, 0.5)",s.style.backdropFilter="brightness(1.1) blur(2px) url(#displacementFilter)",s.style.filter="drop-shadow(-8px -10px 46px #0000005f)",s.style.boxShadow="inset 6px 6px 3px -7px rgba(255, 255, 255, 0.7), inset 0 0 8px 1px rgba(255, 255, 255, 0.7)",s.style.color="white",s.style.cursor="pointer",s.style.fontSize="16px",s.style.transition="all 0.2s ease",s.style.position="relative",s.style.overflow="hidden",s.title="Toggle sidebar";const l=document.createElement("button");l.innerHTML="✕",l.style.width="40px",l.style.height="40px",l.style.borderRadius="50%",l.style.border="none",l.style.backgroundColor="rgba(0, 0, 0, 0.5)",l.style.backdropFilter="brightness(1.1) blur(2px) url(#displacementFilter)",l.style.filter="drop-shadow(-8px -10px 46px #0000005f)",l.style.boxShadow="inset 6px 6px 3px -7px rgba(255, 255, 255, 0.7), inset 0 0 8px 1px rgba(255, 255, 255, 0.7)",l.style.color="white",l.style.cursor="pointer",l.style.fontSize="16px",l.style.transition="all 0.2s ease",l.style.position="relative",l.style.overflow="hidden",l.title="Close sidebar",s.addEventListener("mouseenter",()=>{s.style.transform="scale(1.1)"}),s.addEventListener("mouseleave",()=>{s.style.transform="scale(1)"}),l.addEventListener("mouseenter",()=>{l.style.transform="scale(1.1)"}),l.addEventListener("mouseleave",()=>{l.style.transform="scale(1)"}),s.addEventListener("click",()=>{n||(e=!e,e?(t.style.transform="translateX(0)",i.style.right="420px",s.innerHTML="▶"):(t.style.transform="translateX(100%)",i.style.right="20px",s.innerHTML="◀"))}),l.addEventListener("click",()=>{n=!0,e=!1,t.style.display="none",i.style.display="none"}),i.appendChild(s),i.appendChild(l),document.body.appendChild(t),document.body.appendChild(i),chrome.runtime.onMessage.addListener(C=>{C.action==="icon-clicked"&&(n?(n=!1,e=!0,t.style.display="block",i.style.display="flex",t.style.transform="translateX(0)",i.style.right="420px",s.innerHTML="▶"):(e=!e,e?(t.style.transform="translateX(0)",i.style.right="420px",s.innerHTML="▶"):(t.style.transform="translateX(100%)",i.style.right="20px",s.innerHTML="◀")))})}};function d(r){return r}const y=(E=(w=globalThis.browser)==null?void 0:w.runtime)!=null&&E.id?globalThis.browser:globalThis.chrome;function m(r,...e){}const S={debug:(...r)=>m(console.debug,...r),log:(...r)=>m(console.log,...r),warn:(...r)=>m(console.warn,...r),error:(...r)=>m(console.error,...r)},g=class g extends Event{constructor(e,n){super(g.EVENT_NAME,{}),this.newUrl=e,this.oldUrl=n}};u(g,"EVENT_NAME",x("wxt:locationchange"));let f=g;function x(r){var e;return`${(e=y==null?void 0:y.runtime)==null?void 0:e.id}:content:${r}`}function T(r){let e,n;return{run(){e==null&&(n=new URL(location.href),e=r.setInterval(()=>{let t=new URL(location.href);t.href!==n.href&&(window.dispatchEvent(new f(t,n)),n=t)},1e3))}}}const h=class h{constructor(e,n){u(this,"isTopFrame",window.self===window.top);u(this,"abortController");u(this,"locationWatcher",T(this));u(this,"receivedMessageIds",new Set);this.contentScriptName=e,this.options=n,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(e){return this.abortController.abort(e)}get isInvalid(){return y.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(e){return this.signal.addEventListener("abort",e),()=>this.signal.removeEventListener("abort",e)}block(){return new Promise(()=>{})}setInterval(e,n){const t=setInterval(()=>{this.isValid&&e()},n);return this.onInvalidated(()=>clearInterval(t)),t}setTimeout(e,n){const t=setTimeout(()=>{this.isValid&&e()},n);return this.onInvalidated(()=>clearTimeout(t)),t}requestAnimationFrame(e){const n=requestAnimationFrame((...t)=>{this.isValid&&e(...t)});return this.onInvalidated(()=>cancelAnimationFrame(n)),n}requestIdleCallback(e,n){const t=requestIdleCallback((...o)=>{this.signal.aborted||e(...o)},n);return this.onInvalidated(()=>cancelIdleCallback(t)),t}addEventListener(e,n,t,o){var a;n==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),(a=e.addEventListener)==null||a.call(e,n.startsWith("wxt:")?x(n):n,t,{...o,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),S.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:h.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(e){var a,i,s;const n=((a=e.data)==null?void 0:a.type)===h.SCRIPT_STARTED_MESSAGE_TYPE,t=((i=e.data)==null?void 0:i.contentScriptName)===this.contentScriptName,o=!this.receivedMessageIds.has((s=e.data)==null?void 0:s.messageId);return n&&t&&o}listenForNewerScripts(e){let n=!0;const t=o=>{if(this.verifyScriptStartedEvent(o)){this.receivedMessageIds.add(o.data.messageId);const a=n;if(n=!1,a&&(e!=null&&e.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",t),this.onInvalidated(()=>removeEventListener("message",t))}};u(h,"SCRIPT_STARTED_MESSAGE_TYPE",x("wxt:content-script-started"));let v=h;function F(){}function b(r,...e){}const I={debug:(...r)=>b(console.debug,...r),log:(...r)=>b(console.log,...r),warn:(...r)=>b(console.warn,...r),error:(...r)=>b(console.error,...r)};return(async()=>{try{const{main:r,...e}=c,n=new v("content",e);return await r(n)}catch(r){throw I.error('The content script "content" crashed on startup!',r),r}})()})();
content;